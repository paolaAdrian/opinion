;
(self.AMP=self.AMP||[]).push({m:0,v:"2403072016000",n:"amp-consent",ev:"0.1",l:!0,f:function(t,n){!function(){function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}var i;function e(){return i||(i=Promise.resolve(void 0))}var r=function(){var t=this;this.promise=new Promise((function(n,i){t.resolve=n,t.reject=i}))};function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){if(n&&("object"===u(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var c=Array.isArray;function h(t,n){var i=t.length-n.length;return i>=0&&t.indexOf(n,i)==i}var f,l,p=Object.prototype,v=p.hasOwnProperty,m=p.toString;function d(t){return"[object Object]"===m.call(t)}function g(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function b(t,n){return v.call(t,n)}function y(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,e=[],r=[];for(r.push({t:t,s:n,d:0});r.length>0;){var o=r.shift(),s=o.d,u=o.s,a=o.t;if(e.includes(u))throw new Error("Source object has a circular reference.");if(e.push(u),a!==u)if(s>i)Object.assign(a,u);else for(var c=0,h=Object.keys(u);c<h.length;c++){var f=h[c],l=u[f];if(b(a,f)){var p=a[f];if(d(l)&&d(p)){r.push({t:p,s:l,d:s+1});continue}}a[f]=l}}return t}function w(t,n,i,e,r,o,s,u,a,c,h){return t}function I(t){return void 0!==f?f:f=function(t){try{var n=t.ownerDocument,i=n.createElement("div"),e=n.createElement("div");return i.appendChild(e),i.querySelector(":scope div")===e}catch(t){return!1}}(t)}function k(t,n){return t.replace(/^|,/g,"$&".concat(n," "))}function S(t){w(/^[\w-]+$/.test(t))}function C(t,n){var i=t.classList,e="i-amphtml-scoped";i.add(e);var r=k(n,".".concat(e)),o=t.querySelectorAll(r);return i.remove(e),o}var O=["Webkit","webkit","Moz","moz","ms","O","o"];function x(t){var n=t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return O.some((function(t){return n.startsWith(t+"-")}))?"-".concat(n):n}function j(t,n,i){if(n.startsWith("--"))return n;l||(l=g());var e=l[n];if(!e||i){if(e=n,void 0===t[n]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),o=function(t,n){for(var i=0;i<O.length;i++){var e=O[i]+n;if(void 0!==t[e])return e}return""}(t,r);void 0!==t[o]&&(e=o)}i||(l[n]=e)}return e}function P(t,n,i,e,r){var o=j(t.style,n,r);if(o){var s=e?i+e:i;t.style.setProperty(x(o),s)}}function A(t,n){for(var i in n)P(t,i,n[i])}function U(t,n){void 0===n&&(n=t.hasAttribute("hidden")),n?t.removeAttribute("hidden"):t.setAttribute("hidden","")}function E(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!isFinite(i)||i<0)throw new Error("Invalid depth: "+i);if(t===n)return!0;for(var e=[{a:t,b:n,depth:i}];e.length>0;){var r=e.shift(),o=r.a,s=r.b,a=r.depth;if(a>0){if(u(o)!==u(s))return!1;if(c(o)&&c(s)){if(o.length!==s.length)return!1;for(var h=0;h<o.length;h++)e.push({a:o[h],b:s[h],depth:a-1});continue}if(o&&s&&"object"===u(o)&&"object"===u(s)){var f=Object.keys(o),l=Object.keys(s);if(f.length!==l.length)return!1;for(var p=0,v=f;p<v.length;p++){var m=v[p];e.push({a:o[m],b:s[m],depth:a-1})}continue}}if(o!==s)return!1}return!0}function _(t){var n;null===(n=t.parentElement)||void 0===n||n.removeChild(t)}function N(t,n){t.insertBefore(n,t.firstChild)}function R(t){try{t.focus()}catch(t){}}var D=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function M(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function T(t){var n,i=g();if(!t)return i;for(;n=D.exec(t);){var e=M(n[1],n[1]),r=n[2]?M(n[2].replace(/\+/g," "),n[2]):"";i[e]=r}return i}function L(t){var n=(t||self).location;return T(n.originalHash||n.hash)}var H="";function F(t){var n;return H||(H=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"01".concat("2403072016000")),H}function V(t,n){var i=n||L(t);return["1","actions","amp","amp4ads","amp4email"].includes(i.development)||!!t.AMP_DEV_MODE}function q(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var G=self.__AMP_LOG;function W(t,n){throw new Error("failed to call initLogConstructor")}function z(t){return G.user||(G.user=B()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(G.user.win,t)?G.userForEmbed||(G.userForEmbed=B()):G.user}function B(t){return W()}function $(){return G.dev||(G.dev=W())}function J(t,n,i,e,r,o,s,u,a,c,h){return t}function K(t,n,i,e,r,o,s,u,a,c,h){return z().assert(t,n,i,e,r,o,s,u,a,c,h)}function Y(t,n){return et(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function Z(t,n){return et(it(nt(t)),n)}function Q(t,n){var i=it(nt(t));return st(i,n)?et(i,n):null}function X(t,n){return function(t,n){var i=rt(t,n);if(i)return i;var e,o,s,u,a=ot(t);return a[n]=(o=(e=new r).promise,s=e.reject,u=e.resolve,o.catch((function(){})),{obj:null,promise:o,resolve:u,reject:s,context:null,ctor:null}),a[n].promise}(it(t),n)}function tt(t,n){return rt(it(t),n)}function nt(t){return t.nodeType?(i=t,n=(i.ownerDocument||i).defaultView,Y(n,"ampdoc")).getAmpDoc(t):t;var n,i}function it(t){var n=nt(t);return n.isSingleDoc()?n.win:n}function et(t,n){J(st(t,n));var i=ot(t)[n];return i.obj||(J(i.ctor),J(i.context),i.obj=new i.ctor(i.context),J(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function rt(t,n){var i=ot(t)[n];return i?i.promise?i.promise:(et(t,n),i.promise=Promise.resolve(i.obj)):null}function ot(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function st(t,n){var i=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!i||!i.ctor)}var ut=function(t){return Z(t,"owners")},at=function(t){return Q(t,"url-replace")},ct=function(t){return Y(t,"xhr")},ht="notificationUIManager",ft=function(){function t(){this.j6=0,this.U6=e(),this._6=function(){},this.R6=function(){}}var n=t.prototype;return n.onQueueEmpty=function(t){this._6=t,0==this.j6&&t()},n.onQueueNotEmpty=function(t){this.R6=t,this.j6>0&&t()},n.registerUI=function(t){var n=this;0==this.j6&&this.R6(),this.j6++;var i=this.U6.then((function(){return t().then((function(){n.j6--,0==n.j6&&n._6()}))}));return this.U6=i,i},t}();function lt(t){return t.data}function pt(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,e)}return i}function vt(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?pt(Object(i),!0).forEach((function(n){q(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pt(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}var mt={};function dt(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++){var e=t.charCodeAt(i);w(e<=255),n[i]=e}return n}function gt(t){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}mt.appconsent={"consentInstanceId":"appconsent","checkConsentHref":"https://collector.appconsent.io/amp/check-consent","promptUISrc":"https://cdn.appconsent.io/loader.html"},mt.ConsentManager={"consentInstanceId":"ConsentManager","checkConsentHref":"https://delivery.consentmanager.net/delivery/ampcheck.php","promptUISrc":"https://delivery.consentmanager.net/delivery/ampui.php"},mt.didomi={"consentInstanceId":"didomi","checkConsentHref":"https://api.privacy-center.org/amp/check-consent","promptUISrc":"https://sdk-amp.privacy-center.org/loader.html"},mt.iubenda={"consentInstanceId":"iubenda","checkConsentHref":"https://amp.iubenda.com/checkConsent","promptUISrc":"https://www.iubenda.com/en/help/22135-cookie-solution-amp"},mt.sirdata={"consentInstanceId":"sirdata","checkConsentHref":"https://choices.consentframework.com/api/v1/public/amp/check","promptUISrc":"https://ui.consentframework.com/amp/loader.html"},mt.Marfeel={"consentInstanceId":"Marfeel","checkConsentHref":"https://live.mrf.io/cmp/marfeel/amp/check-consent","promptUISrc":"https://live.mrf.io/cmp/marfeel/amp/index.html"},mt.Ogury={"consentInstanceId":"Ogury","checkConsentHref":"https://api.ogury.mgr.consensu.org/v1/check-for-consent","promptUISrc":"https://www.ogury.mgr.consensu.org/amp.html"},mt.onetrust={"consentInstanceId":"onetrust","checkConsentHref":"https://cdn.cookielaw.org/amp/consent/check","promptUISrc":" https://amp.onetrust.mgr.consensu.org/"},mt.opencmp={"consentInstanceId":"opencmp","checkConsentHref":"https://amp.opencmp.net/consent/check","promptUISrc":"https://cdn.opencmp.net/tcf-v2/amp/cmp.html"},mt.pubtech={"consentInstanceId":"pubtech","checkConsentHref":"https://amp.pubtech.it/cmp-amp-check-consent","promptUISrc":"https://cdn.pubtech.ai/amp/index.html"},mt.quantcast={"consentInstanceId":"quantcast","checkConsentHref":"https://apis.quantcast.mgr.consensu.org/amp/check-consent","promptUISrc":"https://quantcast.mgr.consensu.org/tcfv2/amp.html"},mt.SourcePoint={"consentInstanceId":"SourcePoint","checkConsentHref":"https://sourcepoint.mgr.consensu.org/consent/v2/amp","promptUISrc":"https://amp.pm.sourcepoint.mgr.consensu.org/"},mt.UniConsent={"consentInstanceId":"UniConsent","checkConsentHref":"https://edge.uniconsent.com/amp/check-consent","promptUISrc":"https://cmp.uniconsent.com/amp/index.html"},mt.Usercentrics={"consentInstanceId":"Usercentrics","checkConsentHref":"https://consents.usercentrics.eu/amp/checkConsent","promptUISrc":"https://amp.usercentrics.eu/amp.html"},mt.LiveRamp={"consentInstanceId":"LiveRamp","checkConsentHref":"https://api.privacymanager.io/amp/check-consent","promptUISrc":"https://amp-consent-tool.privacymanager.io/1/index.html"},mt.googlefc={"consentInstanceId":"googlefc","checkConsentHref":"https://fundingchoicesmessages.google.com/amp/consent/check?pvid=PAGE_VIEW_ID_64&anonid=CONSENT_PAGE_VIEW_ID_64&href=SOURCE_URL","promptUISrc":"https://fundingchoicesmessages.google.com/amp/consent/message?pvid=PAGE_VIEW_ID_64&anonid=CONSENT_PAGE_VIEW_ID_64&href=SOURCE_URL&clientConfig=CONSENT_INFO(clientConfig)","xssiPrefix":")]}'","uiConfig":{"overlay":!0},"clearDirtyBitOnResponse_dontUseThisItMightBeRemoved":!0};var bt,yt,wt={"-":"+","_":"/",".":"="},It={"+":"-","/":"_","=":"."},kt=function(){function t(t){this.mn=t,this.gn=0,this.wn=0,this.yn=g()}var n=t.prototype;return n.has=function(t){return!!this.yn[t]},n.get=function(t){var n=this.yn[t];if(n)return n.access=++this.wn,n.payload},n.put=function(t,n){this.has(t)||this.gn++,this.yn[t]={payload:n,access:this.wn},this.En()},n.En=function(){if(!(this.gn<=this.mn)){var t,n=this.yn,i=this.wn+1;for(var e in n){var r=n[e].access;r<i&&(i=r,t=e)}void 0!==t&&(delete n[t],this.gn--)}},t}(),St=function(){return self.AMP.config.urls}(),Ct=new Set(["c","v","a","ad"]),Ot=function(t){return"string"==typeof t?xt(t):t};function xt(t,n){return bt||(bt=self.document.createElement("a"),yt=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new kt(100))),function(t,n,i){if(i&&i.has(n))return i.get(n);t.href=n,t.protocol||(t.href=t.href);var e,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),e=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=e;var o=r;return i&&i.put(n,o),o}(bt,t,n?null:yt)}function jt(t){return"https:"==(t=Ot(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||h(t.hostname,".localhost")}function Pt(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return K(null!=t,"%s %s must be available",n,i),K(jt(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,i,t),t}function At(t){return St.cdnProxyRegex.test(Ot(t).origin)}function Ut(t){if(!At(t=Ot(t)))return t.href;var n=t.pathname.split("/"),i=n[1];K(Ct.has(i),"Unknown path prefix in url %s",t.href);var e=n[2],r="s"==e?"https://"+decodeURIComponent(n[3]):"http://"+decodeURIComponent(e);return K(r.indexOf(".")>0,"Expected a . in origin %s",r),n.splice(1,"s"==e?3:2),r+n.join("/")+function(t,n){if(!t||"?"==t)return"";var i=new RegExp("[?&]".concat("(amp_(js[^&=]*|gsa|r|kit)|usqp)","\\b[^&]*"),"g"),e=t.replace(i,"").replace(/^[?&]/,"");return e?"?"+e:""}(t.search)+(t.hash||"")}var Et=function(){function t(){}return t.getTop=function(t){return t.top},t.getLocation=function(t){return t.location},t.getDocumentReferrer=function(t){return t.document.referrer},t.getHostname=function(t){return t.location.hostname},t.getUserAgent=function(t){return t.navigator.userAgent},t.getUserLanguage=function(t){return t.navigator.userLanguage||t.navigator.language},t.getDevicePixelRatio=function(){return self.devicePixelRatio||1},t.getSendBeacon=function(t){if(t.navigator.sendBeacon)return t.navigator.sendBeacon.bind(t.navigator)},t.getXMLHttpRequest=function(t){return t.XMLHttpRequest},t.getImage=function(t){return t.Image},t}(),_t=function(){return self.AMP.config.urls}(),Nt="-test-amp-cookie-tmp";function Rt(t,n){var i=function(t){try{return t.document.cookie}catch(t){return""}}(t);if(!i)return null;for(var e=i.split(";"),r=0;r<e.length;r++){var o=e[r].trim(),s=o.indexOf("=");if(-1!=s&&M(o.substring(0,s).trim())==n){var u=o.substring(s+1).trim();return M(u,u)}}return null}function Dt(t){var n=t.document.head&&t.document.head.querySelector("meta[name='amp-cookie-scope']");if(n){var i=n.getAttribute("content")||"",e=xt(Ut(t.location.href)).origin;return h(e,"."+i)?i:e.split("://")[1]}if(!At(t.location.href))for(var r=t.location.hostname.split("."),o=r[r.length-1],s=function(t){for(var n=Nt;Rt(t,n);)n=Nt+0;return n}(t),u=r.length-2;u>=0;u--)if(o=r[u]+"."+o,Mt(t,s,"delete",Date.now()+1e3,o),"delete"==Rt(t,s))return Mt(t,s,"delete",Date.now()-1e3,o),o;return null}function Mt(t,n,i,e,r,o,s){"ampproject.org"==r&&(i="delete",e=0);var u=encodeURIComponent(n)+"="+encodeURIComponent(i)+"; path=/"+(r?"; domain="+r:"")+"; expires="+new Date(e).toUTCString()+function(t,n){return n?"; SameSite=".concat(n):""}(0,o)+(s?"; Secure":"");try{t.document.cookie=u}catch(t){}}function Tt(t,n,i){if(n.allowOnProxyOrigin)K(!n.highestAvailableDomain,"Could not support highestAvailable Domain on proxy origin, specify domain explicitly");else{K(!At(t.location.href),"Should never attempt to set cookie on proxy origin: ".concat(i));var e=xt(t.location.href).hostname.toLowerCase(),r=xt(_t.cdn).hostname.toLowerCase();K(!(e==r||h(e,"."+r)),"Should never attempt to set cookie on proxy origin. (in depth check): "+i)}}var Lt=31536e6;var Ht="removeEventListener";function Ft(t){return!!t&&!(!b(t,"isDirty")||1!=t.isDirty)}function Vt(t){return 1==t||2!=t&&null}function qt(t,n,i){if(!t&&!n)return!0;if(t&&n){var e,r=Vt(t.consentState)===Vt(n.consentState),o=(t.consentString||"")===(n.consentString||"");e=i?!!t.isDirty==!!i:!!t.isDirty==!!n.isDirty;var s=E(t.consentMetadata,n.consentMetadata),u=E(t.purposeConsents,n.purposeConsents),a=t.tcfPolicyVersion==n.tcfPolicyVersion;return r&&o&&s&&u&&e&&a}return!1}function Gt(t,n,i,e,r,o){return{"consentState":t,"consentString":n,"consentMetadata":i,"purposeConsents":e,"isDirty":r,"tcfPolicyVersion":o}}function Wt(t,n,i,e,r){return{"consentStringType":t,"additionalConsent":n,"gdprApplies":i,"purposeOne":e,"gppSectionId":r}}function zt(t){return!0===t||1===t?1:!1===t||0===t?2:5}function Bt(t){return!!t.consentString||1===t.consentState||2===t.consentState}function $t(t){return 1===t?"accepted":2===t?"rejected":"unknown"}var Jt="CONSENT-STATE-MANAGER";function Kt(t){return X(t,"consentStateManager")}var Yt=function(){function t(t){var n=this;this.Ks=t,this.D6=null,this.M6=null,this.H6=null,this.F6=null,this.V6=null,this.q6=void 0;var i,e,o,s=new r;this.G6=s.resolve,this.W6=s.promise,this.consentPageViewId64=(i=!1,e=null,o=function(){return function(t){var n,i=function(t){var n=function(t,n){var i=t.crypto;if(!(i=i||t.msCrypto)||!i.getRandomValues)return null;var e=new Uint8Array(16);return i.getRandomValues(e),e}(t);return n||String(t.location.href+Date.now()+t.Math.random()+t.screen.width+t.screen.height)}(t);if("string"==typeof i)return(n=t,Y(n,"crypto")).sha384Base64(i);var e,r=i;return e=function(){return(t=r,n=gt(t),btoa(n).replace(/[+/=]/g,(function(t){return It[t]}))).replace(/\.+$/,"");var t,n},new Promise((function(t){t(e())}))}(n.Ks.win)},function(){if(!i){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=o.apply(self,n),i=!0,o=null}return e})}var n=t.prototype;return n.registerConsentInstance=function(t,n){this.M6?$().error(Jt,"Cannot register consent instance %s, instance %s has already been registered.",t,this.D6):(this.D6=t,this.M6=new Zt(this.Ks,t,n),this.V6&&(this.V6(),this.V6=null))},n.updateConsentInstanceState=function(t,n,i,e){this.M6?(this.M6.update(t,n,this.q6,i,!1,e),this.H6&&(this.H6(Gt(t,n,i,this.q6,void 0,e)),this.hasAllPurposeConsents())):$().error(Jt,"instance not registered")},n.updateConsentInstancePurposes=function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.q6||(this.q6={});var e=Object.keys(t);e.forEach((function(e){if(!i||!b(n.q6,e)){var r=t[e]?1:2;n.q6[e]=r}}))},n.getLastConsentInstanceInfo=function(){return J(this.M6),this.M6.get()},n.getConsentInstanceInfo=function(){return J(this.M6),this.M6.get().then((function(t){return Ft(t)?Gt(5):t}))},n.onConsentStateChange=function(t){J(this.M6),J(!this.H6),this.H6=t,this.getConsentInstanceInfo().then((function(n){t(n)}))},n.setConsentInstanceSharedData=function(t){J(this.M6),this.M6.sharedDataPromise=t},n.hasAllPurposeConsents=function(){this.G6()},n.whenHasAllPurposeConsents=function(){return this.W6},n.setDirtyBit=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.M6.setDirtyBit(t)},n.getConsentInstanceSharedData=function(){return J(this.M6),this.M6.sharedDataPromise},n.whenConsentReady=function(){if(this.M6)return e();if(!this.F6){var t=new r;this.F6=t.promise,this.V6=t.resolve}return this.F6},n.getSavedInstanceForTesting=function(){return this.M6.z6},t}(),Zt=function(){function t(t,n,i){var e,r,o;this.Ks=t,this.Ts=n,this.sharedDataPromise=null,this.B6=(e=nt(t),r=Y(e.win,"ampdoc"),X((o=r.isSingleDoc()?r.getSingleDoc():null)&&o.win==e.win?o:e,"storage")),this.J6=null,this.z6=null,this.K6="amp-consent:"+n,this.Y6=i.onUpdateHref||null,this.Y6&&Pt(this.Y6,"AMP-CONSENT"),this.Z6=void 0}var n=t.prototype;return n.setDirtyBit=function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.Z6=n,this.get().then((function(i){Ft(i)!==n&&t.update(i.consentState,i.consentString,i.purposeConsents,i.consentMetadata,n)}))},n.update=function(t,n,i,e,r,o){var s,u,a,c=(u=this.J6&&this.J6.consentState,1!==(a=s=t)&&2!==a&&3!==a&&4!==a&&5!==a&&(s=5),3==s?u||5:4==s&&u&&5!=u?u:s);if(3!==t){var h=this.J6;r&&Ft(h)?this.J6=Gt(c,n,e,i,!0,o):this.J6=Gt(c,n,e,i,void 0,o);var f=Gt(c,n,e,i,this.Z6,o);qt(f,this.z6)||this.Q6(f)}else{var l,p,v,m;this.J6=Gt(c,null===(l=this.J6)||void 0===l?void 0:l.consentString,null===(p=this.J6)||void 0===p?void 0:p.consentMetadata,null===(v=this.J6)||void 0===v?void 0:v.purposeConsents,void 0,null===(m=this.J6)||void 0===m?void 0:m.tcfPolicyVersion)}},n.Q6=function(t){var n=this;this.B6.then((function(i){if(qt(t,n.J6,n.Z6))if(5!==t.consentState){var e=function(t){var n,i,e=g(),r=t.consentState;if(1==r)e.s=1;else{if(2!=r)return null;e.s=0}return t.consentString&&(e.r=t.consentString),t.tcfPolicyVersion&&(e.e=t.tcfPolicyVersion),!0===t.isDirty&&(e.d=1),t.consentMetadata&&(e.m=(n=t.consentMetadata,i=g(),n.consentStringType&&(i.cst=n.consentStringType),n.additionalConsent&&(i.ac=n.additionalConsent),null!=n.gdprApplies&&(i.ga=n.gdprApplies),null!=n.purposeOne&&(i.po=n.purposeOne),null!=n.gppSectionId&&(i.gsi=n.gppSectionId),i)),t.purposeConsents&&(e.pc=t.purposeConsents),0==Object.keys(e)?null:e}(t);null!=e&&(n.z6=t,i.setNonBoolean(n.K6,e),n.X6(t))}else i.remove(n.K6)}))},n.get=function(){var t,n=this;return this.J6?Promise.resolve(this.J6):this.B6.then((function(i){return(t=i).get(n.K6)})).then((function(i){if(n.J6)return n.J6;var e=function(t){if(void 0===t)return Gt(5);if("boolean"==typeof t)return function(t){return Gt(zt(t))}(t);if(!d(t))throw $().createError("Invalid stored consent value");return Gt(zt(t.s),t.r,(n=t.m)?Wt(n.cst,n.ac,n.ga,n.po,n.gsi):Wt(),t.pc,t.d&&1===t.d,t.e);var n}(i);return n.z6=e,Ft(e)&&(n.X6(Gt(5)),t.remove(n.K6),n.z6=null),n.J6=e,n.J6})).catch((function(t){return $().error(Jt,"Failed to read storage",t),Gt(5)}))},n.X6=function(t){var n=this;if(this.Y6&&!Ft(t)){var i=Vt(t.consentState);on(this.Ks).then((function(e){var r={"consentInstanceId":n.Ts,"ampUserId":e};null!=i&&(r.consentState=i),r.consentStateValue=$t(t.consentState),t.consentString&&(r.consentString=t.consentString),t.consentMetadata&&(r.consentMetadata=t.consentMetadata),t.purposeConsents&&(r.purposeConsents=t.purposeConsents),t.tcfPolicyVersion&&(r.tcfPolicyVersion=t.tcfPolicyVersion);var o={credentials:"include",method:"POST",body:r,ampCors:!1};n.Ks.whenFirstVisible().then((function(){rn(n.Ks.getHeadNode(),n.Y6).then((function(t){ct(n.Ks.win).fetchJson(t,o)}))}))}))}},t}(),Qt="amp-consent/consent-config",Xt="amp-story-consent",tn={"promptUI":!0,"checkConsentHref":!0,"promptIfUnknownForGeoGroup":!0,"onUpdateHref":!0},nn={"CANONICAL_URL":!0,"PAGE_VIEW_ID":!0,"PAGE_VIEW_ID_64":!0,"SOURCE_URL":!0},en=function(){function t(t){this.ti=t,this.k7=null,this.qg=null}var n=t.prototype;return n.getConsentConfigPromise=function(){return this.qg||(this.qg=this.x7()),this.qg},n.getMatchedGeoGroup=function(){return this.k7},n.j7=function(t){var n=t.consents;if(!t.consents)return t;var i=Object.keys(n);if(K(i.length<=1,"%s: only single consent instance is supported",Qt),i.length>0){t.consentInstanceId=i[0];for(var e=t.consents[i[0]],r=Object.keys(e),o=0;o<r.length;o++){var s=r[o];!t[s]&&tn[s]&&(t[r[o]]=e[r[o]])}}return delete t.consents,t},n.x7=function(){var t=this,n=this.j7(K(this.U7(),"%s: Inline config not found")),i=y(this.M7()||{},n||{},1);if(K(i.consentInstanceId,"%s: consentInstanceId to store consent info is required",Qt),i.policy)for(var e=Object.keys(i.policy),r=0;r<e.length;r++)"default"!=e[r]&&(z().warn(Qt,"policy %s is currently not supported and will be ignored",e[r]),delete i.policy[e[r]]);var o=i.promptIfUnknownForGeoGroup;return"string"==typeof o?(i.consentRequired=!1,i.geoOverride=q({},o,{"consentRequired":!0})):void 0===i.consentRequired&&i.checkConsentHref&&(i.consentRequired="remote"),this.L7(i).then((function(n){return t.H7(n)})).then((function(n){return t.F7(n)}))},n.L7=function(t){var n,i=this;return t.geoOverride?(n=this.ti,function(t,n,i,e){var r=tt(t,n);if(r)return r;var o=nt(t);return o.whenExtensionsKnown().then((function(){var t=o.getExtensionVersion(i);return t?Y(o.win,"extensions").waitForExtension(i,t):null})).then((function(i){return i?tt(t,n):null}))}(n,"geo","amp-geo")).then((function(n){K(n,"%s: requires <amp-geo> to use `geoOverride`",Qt);for(var e=g(t),r=Object.keys(t.geoOverride),o=0;o<r.length;o++)if(2===n.isInCountryGroup(r[o])){var s=t.geoOverride[r[o]];b(s,"consentInstanceId")&&(z().error(Qt,"consentInstanceId cannot be overriden in geoGroup:",r[o]),delete s.consentInstanceId),y(e,s,1),i.k7=r[o];break}return delete e.geoOverride,e})):Promise.resolve(t)},n.H7=function(t){var n=t.consentRequired;return K("boolean"==typeof n||"remote"===n,"`consentRequired` is required",Qt),"remote"===n&&K(t.checkConsentHref,"%s: `checkConsentHref` must be specified if `consentRequired` is remote",Qt),t},n.F7=function(t){return n=this.ti,S(Xt),function(t,n){if(I(t))return t.querySelector(k(n,":scope"));var i=C(t,n)[0];return void 0===i?null:i}(n,"> ".concat("amp-story-consent"))&&K(!t.promptUISrc,"%s: `promptUiSrc` cannot be specified while using %s.",Qt,Xt),t;var n},n.U7=function(){try{return function(t){var n,i,e,r=(n=t,S("script"),i=n,e="> ".concat("script"),I(i)?i.querySelectorAll(k(e,":scope")):C(i,e)),o=r.length;if(1!==o)throw new Error("Found ".concat(o," <script> children. Expected 1."));var s,u=r[0];if(!function(t){var n;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(n=t.getAttribute("type"))||void 0===n?void 0:n.toUpperCase())}(u))throw new Error('<script> child must have type="application/json"');try{var a;return s=null!==(a=u.textContent)&&void 0!==a?a:"",JSON.parse(s)}catch(t){throw new Error("Failed to parse <script> contents. Is it valid JSON?")}}(this.ti)}catch(t){throw z(this.ti).createError(Qt,t)}},n.M7=function(){var t=this.ti.getAttribute("type");if(!t)return null;K(mt[t],"%s: invalid CMP type %s",Qt,t);var n=mt[t];return this.V7(n),n},n.V7=function(t){for(var n=["consentInstanceId","checkConsentHref","promptUISrc"],i=0;i<n.length;i++)J(t[n[i]])},t}();function rn(t,n,i){var e=vt({"CLIENT_ID":on(t),"CONSENT_PAGE_VIEW_ID_64":function(){return Kt(t).then((function(t){return t.consentPageViewId64()}))}},i);return at(t).expandUrlAsync(n,e,vt(vt({},e),nn))}function on(t){return(n=t,X(n,"cid")).then((function(t){return t.get({scope:"AMP-CONSENT",createCookieIfNotPresent:!0},e())}));var n}var sn,un=function(){function t(){this.tt=null}var i=t.prototype;return i.add=function(t){var n=this;return this.tt||(this.tt=[]),this.tt.push(t),function(){n.remove(t)}},i.remove=function(t){var n,i,e;this.tt&&(i=t,-1!=(e=(n=this.tt).indexOf(i))&&n.splice(e,1))},i.removeAll=function(){this.tt&&(this.tt.length=0)},i.fire=function(t){if(this.tt)for(var i,e=function(t,i){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,i){if(t){if("string"==typeof t)return n(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,i):void 0}}(t))||t&&"number"==typeof t.length){e&&(t=e);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.tt.slice());!(i=e()).done;)(0,i.value)(t)},i.getHandlerCount=function(){var t,n;return null!==(t=null===(n=this.tt)||void 0===n?void 0:n.length)&&void 0!==t?t:0},t}(),an="consent-policy-manager",cn={"default":!0,"_till_responded":!0,"_till_accepted":!0,"_auto_reject":!0},hn=function(){function t(t){this.Ks=t,this.q7=g(),this.G7=g(),this.W7=X(this.Ks,"consentStateManager"),this.z7=new r;var n=new r;this.B7=n.promise,this.J7=n.resolve,this.K7=new un,this.Y7=null,this.jj=null,this.Oj=null,this.Z7=null,this.kj=null,this.q6=null,this.Q7=null}var n=t.prototype;return n.setLegacyConsentInstanceId=function(t){this.Y7=t,this.Nh()},n.registerConsentPolicyInstance=function(t,n){var i=this;if(!this.G7[t]){var e=Object.keys(n.waitFor||{});if(1===e.length&&e[0]===this.Y7){var r=new fn(n);this.G7[t]=r,this.q7[t]&&(this.q7[t].resolve(),this.q7[t]=null),this.B7.then((function(){i.jj&&r.evaluate(i.jj),i.K7.add((function(t){r.evaluate(t)})),i.z7.promise.then((function(){r.startTimeout(i.Ks.win)}))}))}else z().error(an,"invalid waitFor value, consent policy will never resolve")}},n.Nh=function(){var t=this;this.W7.then((function(n){n.whenConsentReady().then((function(){n.onConsentStateChange((function(n){t.X7(n),t.J7&&(t.J7(),t.J7=null)}))}))}))},n.enableTimeout=function(){this.z7.resolve()},n.X7=function(t){var n=t.consentState,i=t.consentString,e=t.tcfPolicyVersion,r=t.consentMetadata,o=t.purposeConsents,s=this.kj,u=this.Oj,a=this.q6,c=this.Z7;this.Oj=i,this.Z7=e,this.kj=r,this.q6=o,5!==n&&(4==n?1!=this.jj&&2!=this.jj&&(this.jj=4):3==n?(null===this.jj&&(this.jj=5),this.Oj=u,this.Z7=c,this.kj=s,this.q6=a):this.jj=n,this.K7.fire(this.jj),this.Q7&&this.Q7())},n.setOnPolicyChange=function(t){this.Q7||(this.Q7=t)},n.whenPolicyResolved=function(t){var n=this;return cn[t]?this.ttt(t).then((function(){return n.G7[t].getReadyPromise().then((function(){return n.G7[t].getCurrentPolicyStatus()}))})):(z().error(an,"can not find policy %s, only predefined policies are supported",t),Promise.resolve(4))},n.whenPolicyUnblock=function(t){var n=this;return cn[t]?this.ttt(t).then((function(){return n.G7[t].getReadyPromise().then((function(){return n.G7[t].shouldUnblock()}))})):(z().error(an,"can not find policy %s, only predefined policies are supported",t),Promise.resolve(!1))},n.getMergedSharedData=function(t){var n=this;return this.whenPolicyResolved(t).then((function(){return n.W7})).then((function(t){return t.getConsentInstanceSharedData()}))},n.getConsentStringInfo=function(t){var n=this;return this.whenPolicyResolved(t).then((function(){return n.Oj}))},n.getTcfPolicyVersion=function(t){var n=this;return this.whenPolicyResolved(t).then((function(){return n.Z7}))},n.getConsentMetadataInfo=function(t){var n=this;return this.whenPolicyResolved(t).then((function(){return n.kj}))},n.whenPurposesUnblock=function(t){var n=this;return this.W7.then((function(t){return t.whenHasAllPurposeConsents()})).then((function(){return!!n.q6&&t.every((function(t){return b(n.q6,t)&&1===n.q6[t]}))}))},n.ttt=function(t){return this.G7[t]?e():(this.q7[t]||(this.q7[t]=new r),this.q7[t].promise)},t}(),fn=function(){function t(t){this.Yk=t;var n=new r;this.ds=n.promise,this.As=n.resolve,this.ntt=4,this.itt=t.unblockOn||[1,3]}var n=t.prototype;return n.startTimeout=function(t){var n,i,e=this,r=this.Yk.timeout,o=null;null!=r&&(d(r)?(r.fallbackAction&&"reject"==r.fallbackAction?n=2:r.fallbackAction&&"dismiss"!=r.fallbackAction&&z().error(an,"unsupported fallbackAction %s",r.fallbackAction),o=r.seconds):o=r,K("number"==typeof(i=o)&&isFinite(i),"invalid timeout value %s",o)),null!=o&&t.setTimeout((function(){n=n||5,e.evaluate(n,!0)}),1e3*o)},n.evaluate=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(n&&!this.As||(this.ntt=1===t?1:2===t?2:4===t?3:4,this.As&&(this.As(),this.As=null)))},n.getReadyPromise=function(){return this.ds},n.getCurrentPolicyStatus=function(){return this.ntt},n.shouldUnblock=function(){return this.itt.indexOf(this.ntt)>-1},t}();function ln(t){var n=t.tagName;return n.startsWith("AMP-")&&!("AMP-STICKY-AD-TOP-PADDING"==n||"AMP-BODY"==n)}function pn(t){return function(t,n){if(w(1===n.length),w(Array.isArray(n)||b(n,"raw")),self.trustedTypes&&self.trustedTypes.createPolicy){var i=self.trustedTypes.createPolicy("static-template#createNode",{createHTML:function(t){return n[0]}});t.innerHTML=i.createHTML("ignored")}else t.innerHTML=n[0];var e=t.firstElementChild;return w(e),w(!e.nextElementSibling),t.removeChild(e),e}(sn,t)}var vn=['<svg viewBox="0 0 40 40"><defs><linearGradient id=grad><stop stop-color="rgb(105, 105, 105)"></stop><stop offset=100% stop-color="rgb(105, 105, 105)" stop-opacity=0></stop></linearGradient></defs><path d="M11,4.4 A18,18, 0,1,0, 38,20" stroke=url(#grad)></path></svg>'],mn="amp-consent-ui",dn="Entering fullscreen.",gn="Could not enter fullscreen. Fullscreen is only supported when the iframe is visible as a bottom sheet and after user interaction.",bn=["allow-popups-to-escape-sandbox","allow-top-navigation-by-user-activation"],yn="error",wn="success",In="amp-consent-response",kn="i-amphtml-consent-ui-iframe-fullscreen",Sn="i-amphtml-consent-ui-iframe-active",Cn="i-amphtml-consent-ui-modal",On="i-amphtml-consent-ui-in",xn="i-amphtml-consent-ui-loading",jn="i-amphtml-consent-ui-border-enabled",Pn=function(){function t(t,n,i){this.n3=t,this.ett=!1,this.ott=!1,this.yo=!1,this.stt=!1,this.Jw=!1,this.utt=null,this.att=n.uiConfig&&!0===n.uiConfig.overlay,this.ctt=n.captions&&n.captions.consentPromptCaption||"User Consent Prompt",this.htt=n.captions&&n.captions.buttonActionCaption||"Focus Prompt",this.ftt=!1,this.ltt=!0,this.jW=null,this.ptt=null,this.vtt=null,this.Ks=t.getAmpDoc(),this.xa=Z(this.Ks,"viewport"),this.sh=Z(this.Ks,"viewer"),this.rs=t.element,this.t=t.win,this.Bd=this.t.document,this.mtt=null,this.Kk=!1,this.dtt=null,this.uO=null,this.gtt="".concat(30,"vh"),this.btt=!0,this.ytt=!1,this.wtt=!1,this.Itt=this.ktt.bind(this),this.Yk=n,this.Nh(n,i)}var n=t.prototype;return n.Nh=function(t,n){if(n){var i=this.Ks.getElementById(n);return i||z().error(mn,"postPromptUI element with id=%s not found",n),this.utt=i,void(this.ott=!0)}var e=t.promptUI,r=t.promptUISrc;if(e){var o=this.Ks.getElementById(e);o&&this.rs.contains(o)||z().error(mn,"child element of <amp-consent> with promptUI id %s not found",e),o.querySelector("amp-iframe")&&z().error(mn,"`promptUI` element contains an <amp-iframe>. This may cause content flashing when consent is not required. Consider using `promptUISrc` instead. See https://go.amp.dev/c/amp-analytics"),this.utt=o}else r&&(this.ett=!0,Pt(r,this.rs),this.utt=this.Stt(r),this.uO=this.Ctt(),this.dtt=t.clientConfig||null)},n.show=function(t){var n=this;if(this.utt)if(!this.ott||this.rs.contains(this.utt)){U(this.rs,!0);var i=this.rs.classList;if(i.add("amp-active"),i.remove("amp-hidden"),this.n3.getViewport().addToFixedLayer(this.rs,!0),this.ett)this.wtt=t,this.Ott().then((function(){n.n3.mutateElement((function(){n.ott||(n.vtt=n.Bd.activeElement),n.xtt(),n.jtt(),n.Ptt()}))}));else{var e=function(){n.utt&&(U(n.utt,!0),n.ott||(n.vtt=n.Bd.activeElement,n.xtt(),n.resume(),n.utt.focus()))};ln(this.utt)?function(t){if(w(ln(t)),t.createdCallback)return Promise.resolve(t);if(!t.__AMP_UPG_PRM){var n=new r;t.__AMP_UPG_PRM=n.promise,t.__AMP_UPG_RES=n.resolve}var i=t.__AMP_UPG_PRM;return w(i),i}(this.utt).then((function(){return n.utt.build()})).then((function(){return e()})):e()}this.yo=!0}else U(this.utt,!0)},n.hide=function(){var t=this;this.utt&&(this.pause(),this.n3.mutateElement((function(){if(t.ett&&t.Att(),!t.ott){var n=t.rs.classList;n.remove("amp-active"),n.add("amp-hidden")}t.Utt(),t.Ett(),t._tt(),t.Ntt(),t.n3.getViewport().removeFromFixedLayer(t.rs),U(t.utt,!1),t.yo=!1,t.vtt?(t.vtt.focus(),t.vtt=null):t.t.document.body.children.length>0&&t.t.document.body.children[0].focus()})))},n.pause=function(){this.utt&&ut(this.n3.element).schedulePause(this.n3.element,this.utt)},n.resume=function(){this.utt&&(ut(this.n3.element).scheduleLayout(this.n3.element,this.utt),ut(this.n3.element).scheduleResume(this.n3.element,this.utt))},n.Rtt=function(t){if(this.gtt="".concat(30,"vh"),this.btt=!0,this.ytt=!1,t.initialHeight)if("string"==typeof t.initialHeight&&t.initialHeight.indexOf("vh")>=0){var n=parseInt(t.initialHeight,10);this.gtt=n>=80?"".concat(80,"vh"):this.gtt,n>=10&&n<=80?(this.gtt="".concat(n,"vh"),this.ytt=n>60,this.att=this.ytt||this.att):z().error(mn,"Inavlid initial height: ".concat(t.initialHeight,".")+"Minimum: ".concat(10,"vh. Maximum: ").concat(80,"vh."))}else z().error(mn,"Inavlid initial height: ".concat(t.initialHeight,".")+'Must be a string in "vh" units.');!1!==t.border||this.ytt||(this.btt=!1),this.mtt.resolve()},n.Dtt=function(){this.utt&&this.yo&&!this.Jw&&(this.Ntt(),this.Mtt("requestFullOverlay"),this.rs.classList.add(kn),this.WK(),this.Jw=!0)},n.Mtt=function(t){this.sh.sendMessage(t,{},!0)},n.Stt=function(t){var n=this.rs.ownerDocument.createElement("iframe"),i=this.Ttt(t);return n.setAttribute("sandbox",i),n.classList.add("i-amphtml-consent-ui-fill"),n},n.Ttt=function(t){var n=["allow-scripts","allow-popups"];this.Ltt(t)&&n.push("allow-same-origin");var i=this.Htt();return Array.prototype.push.apply(n,i),n.join(" ")},n.Ltt=function(t){var n=Q(this.rs,"url"),i=n.parse(t),e=n.parse(this.Ks.getUrl());return i.origin!=e.origin},n.Htt=function(){return(this.Yk.sandbox||"").split(" ").filter(Boolean).filter((function(t){var n=-1!==bn.indexOf(t);return n||z().error(mn,'The sandbox attribute "'.concat(t,'" is not allowed')),n}))},n.Ctt=function(){var t=this.rs.ownerDocument.createElement("placeholder");U(t,!1),t.classList.add("i-amphtml-consent-ui-placeholder");var n,i,e=(i=(n=t).ownerDocument||n,sn&&sn.ownerDocument===i||(sn=i.createElement("div")),pn)(vn);return t.appendChild(e),t},n.Ftt=function(){var t=this;return Kt(this.Ks).then((function(n){return n.getLastConsentInstanceInfo().then((function(n){return{"clientConfig":t.dtt,"consentState":$t(n.consentState),"consentStateValue":$t(n.consentState),"tcfPolicyVersion":n.tcfPolicyVersion,"consentMetadata":n.consentMetadata,"consentString":n.consentString,"promptTrigger":t.wtt?"action":"load","isDirty":!!n.isDirty,"purposeConsents":n.purposeConsents}}))}))},n.Ott=function(){var t=this;this.mtt=new r;var n,i=this.rs.classList;n=this.rs,S("placeholder"),n.querySelector("placeholder")||N(this.rs,this.uO),i.add(xn),U(this.utt,!1),this.Kk=!1;var e=this.Ftt().then((function(n){return rn(t.rs,t.Yk.promptUISrc,{"CONSENT_INFO":function(t){return JSON.stringify(n[t])}}).then((function(i){t.utt.src=i,t.utt.setAttribute("name",JSON.stringify(n)),t.t.addEventListener("message",t.Itt),N(t.rs,t.utt)}))}));return Promise.all([e,this.mtt.promise,this.n3.mutateElement((function(){U(t.uO,!0)}))])},n.Ptt=function(){var t=this,n=this.rs.classList;n.add(Sn),U(this.uO,!1),U(this.utt,!0),this.ytt&&(n.add(Cn),R(this.utt)),this.Ntt(),this.n3.mutateElement((function(){n.remove(xn),t.n3.mutateElement((function(){n.add(On),t.stt=!0,t.Vtt()}))}))},n.Att=function(){var t=this,n=this.rs.classList;n.remove(Sn),n.remove(Cn),n.remove(jn),this.t.removeEventListener("message",this.Itt),n.remove(kn),this.Jw?this.Mtt("cancelFullOverlay"):this.ytt&&this.xa.leaveLightboxMode(),this.Jw=!1,n.remove(On),this.stt=!1,this.utt.removeAttribute("name"),U(this.uO,!1),this.Kk=!0,this.t.setTimeout((function(){t.Kk&&_(t.utt)}),1e3)},n.jtt=function(){var t=this;if(!this.ftt&&!this.ytt){var n=this.Bd.createElement("div"),i=this.Bd.createElement("button"),e=this.Bd.createElement("div");n.setAttribute("role","alertdialog"),e.textContent=this.ctt,i.textContent=this.htt,i.onclick=function(){R(t.utt)},n.appendChild(e),n.appendChild(i),n.classList.add("i-amphtml-consent-alertdialog"),this.n3.element.appendChild(n),R(i),this.ftt=!0,this.ptt=n}},n.Ett=function(){this.ptt&&(_(this.ptt),delete this.ptt)},n.Ntt=function(){A(this.rs,{transform:"",transition:""})},n.Vtt=function(){var t=this.rs.classList;this.utt&&A(this.utt,{height:this.gtt}),function(t,n){var i=t.style;for(var e in n)i.setProperty(x(j(i,e)),String(n[e]),"important")}(this.rs,{"--i-amphtml-modal-height":"".concat(this.gtt)}),t.add("i-amphtml-consent-ui-iframe-transform"),(this.btt||this.ytt)&&t.add(jn),this.ytt&&this.xa.enterLightboxMode()},n.xtt=function(){if(this.att){if(!this.jW){var t=this.t.document.createElement("div");t.classList.add("i-amphtml-consent-ui-mask"),this.rs.ownerDocument.body.appendChild(t),this.jW=t}U(this.jW,!0),this.WK()}},n.Utt=function(){this.att&&(this.jW&&U(this.jW,!1),this._tt())},n.WK=function(){this.ltt&&(this.xa.enterOverlayMode(),this.ltt=!1)},n._tt=function(){this.ltt||(this.xa.leaveOverlayMode(),this.ltt=!0)},n.ktt=function(t){var n=this;if(this.utt.contentWindow===t.source){var i=lt(t);if(i&&"consent-ui"==i.type){var e=i.action,r=i.type;if("ready"===e&&this.Rtt(i),"enter-fullscreen"===e){if(!this.stt||this.ytt||this.Bd.activeElement!==this.utt&&!this.wtt)return z().warn(mn,gn),void this.qtt(r,e,!0);this.qtt(r,e),this.n3.mutateElement((function(){n.Dtt()}))}}}},n.qtt=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.Gtt(In,t,n,i?yn:wn,i?gn:dn)},n.Gtt=function(t,n,i,e,r){var o=this.utt.contentWindow;o&&o.postMessage({type:t,requestType:n,requestAction:i,state:e,info:r},"*")},t}(),An=null,Un="*",En=/^[a-zA-Z0-9\-_.]+$/,_n="amp-analytics/linker";function Nn(t,n){var i,e,r=n||0;return function(t){An||(An=function(){for(var t=new Array(256),n=0;n<256;n++){for(var i=n,e=0;e<8;e++)1&i?i=i>>>1^3988292384:i>>>=1;t[n]=i}return t}());for(var n,i=(n=t,"undefined"!=typeof TextEncoder?(new TextEncoder).encode(n):dt(unescape(encodeURIComponent(n)))),e=-1>>>0,r=0;r<i.length;r++){var o=255&(e^i[r]);e=e>>>8^An[o]}return(-1^e)>>>0}([(i=(new Date).getTimezoneOffset(),e=Et.getUserLanguage(window),[Et.getUserAgent(window),i,e].join(Un)),Math.floor(Date.now()/6e4)-r,t].join(Un)).toString(36)}function Rn(t){return function(t){if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8").decode(t);var n=gt(new Uint8Array(t.buffer||t));return decodeURIComponent(escape(n))}(function(t){return dt(atob(t.replace(/[-_.]/g,(function(t){return wt[t]}))))}(String(t)))}var Dn=function(){function t(t){this.t=t,this.Wtt={}}var n=t.prototype;return n.get=function(t,n){return t&&n?(b(this.Wtt,t)||(this.Wtt[t]=this.ztt(t)),this.Wtt[t]&&this.Wtt[t][n]?this.Wtt[t][n]:null):(z().error("amp-consent/linker-reader","LINKER_PARAM requires two params, name and id"),null)},n.ztt=function(t){var n=T(this.t.location.search);return b(n,t)?function(t){var n=function(t){var n=t.split(Un),i=n.length%2==0;if(n.length<4||!i)return z().error(_n,"Invalid linker_param value ".concat(t)),null;var e=Number(n.shift());return 1!==e?(z().error(_n,"Invalid version number ".concat(e)),null):{checksum:n.shift(),serializedIds:n.join(Un)}}(t);if(!n)return null;var i=n.checksum,e=n.serializedIds;return function(t,n){for(var i=0;i<=1;i++)if(Nn(t,i)==n)return!0;return!1}(e,i)?function(t){for(var n={},i=t.split(Un),e=0;e<i.length;e+=2){var r=i[e];if(En.test(r)){var o=Rn(i[e+1]);n[r]=o}else z().error(_n,"Invalid linker key ".concat(r,", value ignored"))}return n}(e):(z().error(_n,"LINKER_PARAM value checksum not valid"),null)}(n[t]):null},t}(),Mn="amp-consent/cookie-writer",Tn={"referrerDomains":!0,"enabled":!0,"cookiePath":!0,"cookieMaxAge":!0,"cookieSecure":!0,"cookieDomain":!0},Ln={"LINKER_PARAM":!0},Hn=function(){function t(t,n,i){this.t=t,this.ti=n,this.Btt=null,this.Yk=i,this.$tt=new Dn(t)}var n=t.prototype;return n.write=function(){return this.Btt||(this.Btt=this.Nh()),this.Btt},n.Nh=function(){if(!this.Jtt(this.t,this.ti))return e();if(!b(this.Yk,"cookies"))return e();if(!d(this.Yk.cookies))return z().error(Mn,"cookies config must be an object"),e();var t=this.Yk.cookies;if(!1===t.enabled)return e();for(var n=this.Ktt(t),i=Object.keys(t),r=[],o=0;o<i.length;o++){var s=i[o],u=t[s];this.Ytt(s,u)&&r.push(this.Ztt(s,u.value,n))}return Promise.all(r)},n.Ktt=function(t){if(!b(t,"cookieMaxAge"))return Lt;var n=Number(t.cookieMaxAge);return n||0===n?(n<=0&&z().warn(Mn,"cookieMaxAge %s less than or equal to 0, cookie will immediately expire",t.cookieMaxAge),1e3*n):(z().error(Mn,"invalid cookieMaxAge %s, falling back to default value (1 year)",t.cookieMaxAge),Lt)},n.Ytt=function(t,n){return!(Tn[t]||(d(n)?!b(n,"value")&&(z().error(Mn,"value is required in the cookieValue object"),1):(z().error(Mn,"cookieValue must be configured in an object"),1)))},n.Ztt=function(t,n,i){var e=this;return at(this.ti).expandStringAsync(n,{"LINKER_PARAM":function(t,n){return e.$tt.get(t,n)}},Ln).then((function(n){if(n){var r=Date.now()+i;!function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Tt(t,r,n);var o=void 0;r.domain?o=r.domain:r.highestAvailableDomain&&(o=Dt(t)),Mt(t,n,i,e,o,r.sameSite,r.secure)}(e.t,t,n,r,{highestAvailableDomain:!0})}})).catch((function(t){z().error(Mn,"Error expanding cookie string",t)}))},n.Jtt=function(){return!((i=this.ti).classList.contains("i-amphtml-fie")||function(t,n){return t.closest?t.closest(".i-amphtml-fie"):function(t,n,i){var e;for(e=t;e&&void 0!==e;e=e.parentElement)if(n(e))return e;return null}(t,(function(t){return function(t,n){var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!i&&i.call(t,".i-amphtml-fie")}(t)}))}(i)||At(this.t.location)||"inabox"==(t=this.t,n=t||self,n.__AMP_MODE?n.__AMP_MODE:n.__AMP_MODE=function(t){return{localDev:!1,development:V(t,L(t)),esm:!1,test:!1,rtvVersion:F(t),ssrReady:!1}}(n)).runtime);var t,n,i},t}(),Fn="amp-consent",Vn="loaded",qn=function(){function t(t){var n=this;this.Qtt=t,this.Xtt=g(),this.tnt=null,this.nnt=0,t.setOnPolicyChange((function(){n.int()}))}var n=t.prototype;return n.handleTcfCommand=function(t,n){if(this.ent(t.__tcfapiCall)){var i=t.__tcfapiCall;switch(i.command){case"ping":this.rnt(i,n);break;case"getTCData":this.ont(i,n);break;case"addEventListener":this.snt(i,n);break;case Ht:this.unt(i,n);break;default:return}}},n.snt=function(t,n){this.Xtt[this.nnt]||(this.Xtt[this.nnt]={payload:t,win:n},this.nnt++)},n.unt=function(t,n){var i=t.callId,e=t.parameter,r=!!this.Xtt[e];r&&delete this.Xtt[e],this.ant(n,void 0,i,r)},n.int=function(){var t=this;Object.keys(this.Xtt).length&&this.cnt().then((function(n){var i=n[2];if(i&&i!==t.tnt){t.tnt=i;for(var e=Object.keys(t.Xtt),r=0;r<e.length;r++){var o=Number(e[r]);if(b(t.Xtt,o)){var s=t.Xtt[o],u=s.payload,a=s.win,c=u.callId,h=t.hnt(n[0],n[1],i,o,n[3]);t.ant(a,h,c,!0)}}}}))},n.cnt=function(){var t=this.Qtt.getConsentStringInfo("default"),n=this.Qtt.getConsentMetadataInfo("default"),i=this.Qtt.getMergedSharedData("default"),e=this.Qtt.getTcfPolicyVersion("default");return Promise.all([n,i,t,e])},n.ont=function(t,n){var i=this;this.cnt().then((function(e){var r=i.hnt(e[0],e[1],e[2],void 0,e[3]),o=t.callId;i.ant(n,r,o,!0)}))},n.hnt=function(t,n,i,e,r){var o=t?t.purposeOne:void 0,s=t?t.gdprApplies:void 0,u=t?t.additionalConsent:void 0,a=vt(vt({},n),{},{additionalConsent:u});return{tcfPolicyVersion:"number"==typeof r?r:2,gdprApplies:s,tcString:i,listenerId:e,cmpStatus:Vn,eventStatus:"tcloaded",purposeOneTreatment:o,additionalData:a}},n.rnt=function(t,n){var i=this,e=this.Qtt.getConsentMetadataInfo("default"),r=this.Qtt.getTcfPolicyVersion("default");Promise.all([e,r]).then((function(e){var r=i.fnt(e[0],e[1]),o=t.callId;i.ant(n,r,o)}))},n.fnt=function(t,n){return{gdprApplies:t?t.gdprApplies:void 0,cmpLoaded:!0,cmpStatus:Vn,tcfPolicyVersion:"number"==typeof n?n:2}},n.ant=function(t,n,i,e){if(t){var r={returnValue:n,callId:i,success:e};t.postMessage({__tcfapiReturn:r},"*")}},n.ent=function(t){if(!d(t))return z().error(Fn,'"tcfapiCall" is not an object: '.concat(t)),!1;var n,i=t.command,e=t.parameter,r=t.version;return"getTCData"!==(n=i)&&"ping"!==n&&"addEventListener"!==n&&"removeEventListener"!==n?(z().error(Fn,'Unsupported command found in "tcfapiCall": '.concat(i)),!1):e&&i!=Ht?(z().error(Fn,'Unsupported parameter found in "tcfapiCall": '.concat(e)),!1):2==r||(z().error(Fn,'Found incorrect version in "tcfapiCall": '.concat(r)),!1)},n.getMinimalPingReturnForTesting=function(t,n){return this.fnt(t,n)},n.getMinimalTcDataForTesting=function(t,n,i,e,r){return this.hnt(t,n,i,e,r)},t}(),Gn=function(t){return"accept"===t||"reject"===t||"dismiss"===t},Wn="consentStateManager",zn="consentPolicyManager",Bn="amp-consent",$n="accept",Jn="reject",Kn="dismiss",Yn=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(h,t);var n,i,u=(n=h,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(n);if(i){var r=s(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return a(this,t)});function h(t){var n;return(n=u.call(this,t)).lnt=null,n.pnt=null,n.vnt=null,n.mnt=null,n.dnt=null,n.a_=null,n.gnt=null,n.bnt=null,n.ynt=null,n.wnt=!1,n.Int=!1,n.knt=!1,n.Ea=n.getVsync(),n.Snt=null,n.Cnt=null,n.k7=null,n.Ont=null,n}var f=h.prototype;return f.getConsentPolicy=function(){return null},f.buildCallback=function(){var t=this;K(this.element.getAttribute("id"),"amp-consent should have an id");var n=new en(this.element);return n.getConsentConfigPromise().then((function(i){t.k7=n.getMatchedGeoGroup(),t.xu(i)}))},f.pauseCallback=function(){this.dnt&&this.dnt.pause()},f.resumeCallback=function(){this.dnt&&this.dnt.resume()},f.xu=function(t){var n=this;this.a_=t,this.Cnt=this.a_.consentInstanceId,this.a_.postPromptUI&&(this.bnt=new Pn(this,{},this.a_.postPromptUI));var i=this.a_.policy||{};this.gnt=function(t,n){var i={};i[n]=void 0;var e={"waitFor":i},r=[4,1,2,3],o={"waitFor":i,"unblockOn":r},s={"waitFor":i,"timeout":{"seconds":0,"fallbackAction":"reject"},"unblockOn":r};return t._till_responded=o,t._till_accepted=e,t._auto_reject=s,t&&t.default||(t.default=e),t}(i,this.Cnt);for(var r=function(t,n){for(var i=[],e=t.firstElementChild;e;e=e.nextElementSibling)void 0,s=void 0,u=void 0,"string"==typeof(o=r=e)?s=o:1==(null==(u=o)?void 0:u.nodeType)&&(s=o.tagName),!(s&&s.toLowerCase().startsWith("i-")||r.nodeType===Node.ELEMENT_NODE&&(r.hasAttribute("placeholder")||r.hasAttribute("fallback")||r.hasAttribute("overflow")))&&i.push(e);var r,o,s,u;return i}(this.element),o=0;o<r.length;o++){var s=r[o];U(s,!1),ut(this.element).setOwner(s,this.element)}var u=X(this.getAmpDoc(),zn).then((function(t){n.pnt=t,n.pnt.setLegacyConsentInstanceId(n.Cnt);for(var i=Object.keys(n.gnt),e=0;e<i.length;e++)n.pnt.registerConsentPolicyInstance(i[e],n.gnt[i[e]])})),a=X(this.getAmpDoc(),Wn).then((function(t){t.registerConsentInstance(n.Cnt,n.a_),n.lnt=t})),c=X(this.getAmpDoc(),ht).then((function(t){n.mnt=t})),h=this.a_.cookies?new Hn(this.win,this.element,this.a_).write():e();Promise.all([a,c,u,h]).then((function(){n.Nh()}))},f.xnt=function(){var t=this;this.registerAction("accept",(function(n){t.jnt($n,n)})),this.registerAction("reject",(function(n){t.jnt(Jn,n)})),this.registerAction("dismiss",(function(){t.jnt(Kn)})),this.registerAction("setPurpose",(function(n){t.Pnt(n)})),this.registerAction("prompt",(function(n){return t.Ant(n)})),this.Unt()},f.jnt=function(t,n){var i=this;this.Ent()&&this._nt(t,n).then((function(){i.Nnt(t)}))},f.Unt=function(){var t=this;this.win.addEventListener("message",(function(n){if(t.wnt){var i,e,r,o=lt(n);if(o&&"consent-response"==o.type)if(o.action){void 0!==o.info&&("string"!=typeof o.info&&(z().error(Bn,"consent-response info only supports string, %s, treated as undefined",o.info),o.info=void 0),o.action===Kn&&(o.info&&t.user().error(Bn,"Consent string value %s not applicable on user dismiss, stored value will be kept and used",o.info),o.info=void 0),i=o.info,e=t.Rnt(o.tcfPolicyVersion),r=t.Dnt(o.consentMetadata));for(var s=t.element.querySelectorAll("iframe"),u=0;u<s.length;u++)if(s[u].contentWindow===n.source){var a=o.action,c=o.purposeConsents;if(!Gn(a)||!t.Ent())continue;c&&Object.keys(c).length&&a!==Kn&&(t.Mnt(c),t.lnt.updateConsentInstancePurposes(c)),t.Nnt(a,i,r,e)}}else z().error(Bn,"consent-response message missing required info")}}))},f.Tnt=function(t){this.mnt||$().error(Bn,"notification ui manager not found"),this.knt||this.dnt&&(this.knt=!0,this.mnt.registerUI(this.H$.bind(this,t)))},f.H$=function(t){var n=this;this.wnt&&$().error(Bn,"Attempt to show an already displayed prompt UI"),this.Ea.mutate((function(){n.dnt.show(t),n.wnt=!0}));var i=new r;return this.ynt=i.resolve,i.promise},f.Lnt=function(){this.wnt||$().error(Bn,"%s no consent ui to hide"),this.dnt.hide(),this.wnt=!1,this.ynt&&(this.ynt(),this.ynt=null),this.knt=!1},f.Ent=function(){return this.lnt?this.wnt:($().error(Bn,"No consent state manager"),!1)},f.Nnt=function(t,n,i,r){var o=this;(Gn(t)&&this.a_.clearDirtyBitOnResponse_dontUseThisItMightBeRemoved?this.lnt.setDirtyBit(!1):e()).then((function(){o.Hnt(t,n,i,r)}))},f.Hnt=function(t,n,i,e){this.Int=!0,t==$n?this.lnt.updateConsentInstanceState(1,n,i,e):t==Jn?this.lnt.updateConsentInstanceState(2,n,i,e):t==Kn&&this.lnt.updateConsentInstanceState(3),this.Lnt()},f._nt=function(t,n){var i,r=this;return"boolean"!=typeof(null==n||null===(i=n.args)||void 0===i?void 0:i.purposeConsentDefault)?e():t===Kn?($.warn(Bn,"Dismiss cannot have a `purposeConsentDefault` parameter."),e()):this.Fnt().then((function(t){if(t&&t.length){var i={},e=n.args.purposeConsentDefault;t.forEach((function(t){i[t]=e})),r.lnt.updateConsentInstancePurposes(i,!0)}}))},f.Ant=function(t){var n=this,i=t.args;(!0===(null==i?void 0:i.expireCache)?this.lnt.setDirtyBit():e()).then((function(){n.Tnt(!0)}))},f.Pnt=function(t){if(t&&t.args&&Object.keys(t.args).length){var n=t.args;this.Ent()&&(this.Mnt(n),this.lnt.updateConsentInstancePurposes(n))}else $().error(Bn,"Must have arugments for `setPurpose`.")},f.Nh=function(){var t=this;this.Vnt(),this.qnt(),this.Gnt(),this.Wnt().then((function(n){return t.znt(n)})).then((function(n){n&&t.Bnt(),t.pnt.enableTimeout()})).catch((function(t){})),this.xnt()},f.Wnt=function(){var t=this;return this.lnt.getConsentInstanceInfo().then((function(n){if(Bt(n))return Promise.resolve(!0);var i=t.a_.consentRequired;return"boolean"==typeof i?Promise.resolve(i):t.$nt().then((function(t){return!!t&&(void 0!==t.consentRequired?!!t.consentRequired:!!t.promptIfUnknown)}))}))},f.Vnt=function(){var t=this.$nt().then((function(t){return t&&void 0!==t.sharedData?t.sharedData:null}));this.lnt.setConsentInstanceSharedData(t)},f.qnt=function(){var t=this;this.$nt().then((function(n){n&&((n.expireCache||n.forcePromptOnNext)&&t.lnt.setDirtyBit(),n.consentRequired&&!t.Int&&t.Jnt(n.consentStateValue,n.consentString||void 0,n.consentMetadata,n.purposeConsents,n.tcfPolicyVersion))}))},f.Jnt=function(t,n,i,e,r){var o,s="accepted"===(o=t)?1:"rejected"===o?2:"unknown"===o?5:null;null!==s&&(e&&d(e)&&Object.keys(e).length&&(this.Mnt(e),this.lnt.updateConsentInstancePurposes(e)),this.lnt.updateConsentInstanceState(s,n,this.Dnt(i),r))},f.$nt=function(){var t=this;if(this.Snt)return this.Snt;var n=this.a_.checkConsentHref;if(n){var i=this.lnt.getLastConsentInstanceInfo();this.Snt=i.then((function(i){var e={credentials:"include",method:"POST",body:{"consentInstanceId":t.Cnt,"consentStateValue":$t(i.consentState),"consentMetadata":i.consentMetadata,"consentString":i.consentString,"tcfPolicyVersion":i.tcfPolicyVersion,"isDirty":!!i.isDirty,"matchedGeoGroup":t.k7,"purposeConsents":i.purposeConsents,"clientConfig":t.a_.clientConfig}};Pt(n,t.element);var r,o,s=t.getAmpDoc(),u=Ut(s.getUrl()),a=(r=n,o=Ot(o=u),"function"==typeof URL?new URL(r,o.href).toString():function(t,n){n=Ot(n);var i=xt(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(i.protocol)?i.href:t.startsWith("//")?n.protocol+t:t.startsWith("/")?n.origin+t:n.origin+n.pathname.replace(/\/[^/]*$/,"/")+t}(r,o)),c=ct(t.win);return s.whenFirstVisible().then((function(){return rn(t.element,a).then((function(n){return c.fetchJson(n,e).then((function(n){return c.xssiJson(n,t.a_.xssiPrefix).catch((function(t){z().error(Bn,"Could not parse the `checkConsentHref` response.",t)}))}))}))}))}))}else this.Snt=Promise.resolve(null);return this.Snt},f.Knt=function(t){var n=this;return this.Fnt().then((function(i){if(null==i||!i.length)return n.lnt.hasAllPurposeConsents(),!0;var e=t.purposeConsents;if(!e||Object.keys(e).length<i.length)return!1;for(var r=0;r<i.length;r++)if(!b(e,i[r]))return!1;return n.lnt.hasAllPurposeConsents(),!0}))},f.Fnt=function(){if(this.Ont)return this.Ont;var t=this.a_.purposeConsentRequired;return c(t)?this.Ont=Promise.resolve(t):this.Ont=this.$nt().then((function(t){return t&&c(t.purposeConsentRequired)?t.purposeConsentRequired:null})),this.Ont},f.Ynt=function(){var t=this;return this.lnt.getConsentInstanceInfo().then((function(n){return Bt(n)?t.Knt(n):Promise.resolve(!1)}))},f.znt=function(t){var n=this;return this.dnt=new Pn(this,J(this.a_)),this.Ynt().then((function(i){return!!i||(t?(n.Tnt(!1),!0):(n.lnt.updateConsentInstanceState(4),!1))}))},f.Bnt=function(){var t=this;this.bnt&&(this.mnt.onQueueEmpty((function(){t.Ea.mutate((function(){t.bnt.show(!1)}))})),this.mnt.onQueueNotEmpty((function(){t.Ea.mutate((function(){t.bnt.hide()}))})))},f.getConsentStateManagerForTesting=function(){return this.lnt},f.getConsentRequiredPromiseForTesting=function(){return this.Wnt()},f.getIsPromptUiOnForTesting=function(){return this.wnt},f.Mnt=function(t){Object.keys(t).forEach((function(n){t[n]}))},f.Rnt=function(t){if("number"==typeof t){if(!(isNaN(t)||!isFinite(t)||t.toString().split(".").length>1))return t;z().error(Bn,"CMP tcfPolicyVersion must be a valid number (integer).")}},f.Dnt=function(t){if(t){if(d(t))return function(t){var n,i=t.consentStringType,e=t.additionalConsent,r=t.gdprApplies,o=t.purposeOne,s=t.gppSectionId,u=[];i&&1!==(n=i)&&2!==n&&3!==n&&4!==n&&(delete t.consentStringType,u.push("consentStringType")),e&&"string"!=typeof e&&(delete t.additionalConsent,u.push("additionalConsent")),r&&"boolean"!=typeof r&&(delete t.gdprApplies,u.push("gdprApplies")),o&&"boolean"!=typeof o&&(delete t.purposeOne,u.push("purposeOne")),s&&"string"!=typeof s&&(delete t.gppSectionId,u.push("gppSectionId"));for(var a=0;a<u.length;a++)z().error("amp-consent",'Consent metadata value "%s" is invalid.',u[a])}(t),Wt(t.consentStringType,t.additionalConsent,t.gdprApplies,t.purposeOne,t.gppSectionId);z().error(Bn,"CMP metadata is not an object.")}},f.Gnt=function(){var t=this;if(this.a_.exposesTcfApi&&!this.win.frames.__tcfapiLocator){this.vnt=new qn(this.pnt),this.win.addEventListener("message",(function(n){return t.Znt(n)}));var n=this.element.ownerDocument.createElement("iframe");n.setAttribute("name","__tcfapiLocator"),n.setAttribute("aria-hidden","true"),U(n,!1),this.element.appendChild(n)}},f.Znt=function(t){var n=lt(t);n&&n.__tcfapiCall&&this.vnt.handleTcfCommand(n,t.source)},h}(t.BaseElement);t.registerElement("amp-consent",Yn,"amp-consent{position:fixed!important;bottom:0;left:0;overflow:hidden!important;background:hsla(0,0%,100%,.7);width:100%;z-index:2147483645}amp-consent[i-amphtml-notbuilt]>*{display:none!important}amp-consent>*{max-height:100vh!important}amp-consent.amp-active{visibility:visible}amp-consent.amp-hidden{visibility:hidden}@keyframes amp-consent-ui-placeholder-spin{0%{transform:rotate(0deg)}to{transform:rotate(360deg)}}.i-amphtml-consent-ui-placeholder{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.i-amphtml-consent-ui-placeholder>svg{width:30px;height:30px;fill:none;stroke-width:1.5px;transform-origin:50% 50%;animation:amp-consent-ui-placeholder-spin 1000ms linear infinite}.i-amphtml-consent-alertdialog{overflow:hidden;position:absolute;height:1px;width:1px;top:auto;left:auto}.i-amphtml-consent-ui-fill{position:absolute;top:0;left:0;width:100%}iframe.i-amphtml-consent-ui-fill{border:none}amp-consent.i-amphtml-consent-ui-iframe-active{width:100%!important;height:100%!important;padding:0px!important;margin:0px!important;overflow:auto!important;transform:translate3d(0px,100vh,0px)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-modal{box-sizing:border-box;top:0;right:0;animation:i-amphtml-modal-appear 0.5s;animation-fill-mode:forwards;height:var(--i-amphtml-modal-height)!important;width:90vw!important;margin:auto!important;max-width:760px}amp-consent.i-amphtml-consent-ui-border-enabled{border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 0 5px 0 rgba(0,0,0,.2)!important}amp-consent.i-amphtml-consent-ui-modal.i-amphtml-consent-ui-border-enabled{border-radius:8px!important;box-shadow:0 0 5px 0 rgba(0,0,0,.2)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-iframe-transform{transform:translate3d(0px,calc(100% - var(--i-amphtml-modal-height)),0px)!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-in{transition:transform 0.5s ease-out!important}amp-consent.i-amphtml-consent-ui-iframe-active.i-amphtml-consent-ui-in.i-amphtml-consent-ui-iframe-fullscreen{top:0px!important;transform:translateZ(0px)!important;border-top-left-radius:0px!important;border-top-right-radius:0px!important}amp-consent.i-amphtml-consent-ui-in.i-amphtml-consent-ui-iframe-fullscreen>.i-amphtml-consent-ui-fill{height:100%!important}@keyframes i-amphtml-consent-ui-mask{0%{opacity:0.0}to{opacity:0.2}}@keyframes i-amphtml-modal-appear{0%{transform:translateY(100vh);opacity:0}to{transform:translate(0);opacity:1}}.i-amphtml-consent-ui-mask{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;opacity:0.2;animation:i-amphtml-consent-ui-mask 0.25s ease-in;background-image:none!important;background-color:#000;z-index:2147483644}\n/*# sourceURL=/extensions/amp-consent/0.1/amp-consent.css*/"),t.registerServiceForDoc(ht,ft),t.registerServiceForDoc(Wn,Yt),t.registerServiceForDoc(zn,hn)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-consent-0.1.js.map